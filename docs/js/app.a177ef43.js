(function(t){function e(e){for(var o,s,a=e[0],c=e[1],u=e[2],l=0,m=[];l<a.length;l++)s=a[l],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,a=1;a<n.length;a++){var c=n[a];0!==r[c]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},r={app:0},i=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var d=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"34a6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAAAb1BMVEVHcEz0QzX0Qzb0Qzb0Qzb0Qzb0Qzb0QzX0QzX0QzX0QzX0Qzb0QzX0Qzb0QzX0Qzb0Qzb0QzX0QzX0QzX0QzX0Qzb0Qzb0Qzb0Qzb0QjX0Qzb0QzX0Qzb0Qjb0Qzb0QjX/Szz/SDr/Rjn8RTf4QzZPqS6lAAAAIHRSTlMAKt3mT/kNAwZ/ch3J7xg7iUGrVrWk151gJZM0wEfSZQjqH+MAAAE1SURBVBjTXVGLboMwDHSe5EV5Q4G2OIH//8bZ7aZps5TodI7PzhkAKgAQN7re6DsIumE8NTQBwO734H3HvAuqZAkB096bXApiGQD2GpXMR4ev55V7PeXH08gK/Eu7ZKIyEaYswCgLSxGs3WCrkZQ16oAk4HPDPfu89mcEuKNOtWV6p5636wH1i9Jt0WYEB/ymggMHd40EZtWUjUarZ57wYZy9eoAOt5hb1vKscS7glAQ3l9WSXqwNf3ngvgu2iR89ipd45/EWRbkosVA9rCqb8Pbm1YJz4BqqtPH2JEcqpmXDxgjdJmVMPfr9Y2HjQE8qY1H9IdjStdOWE9ag3J4EbefHWaYpEHa0hJVOGOvzktMhfpYRO5+ufM6bvn02QwmxpQuzWoZfiqPFKwXxh3orePGfovgCao0Un0aB6NsAAAAASUVORK5CYII="},"3c23":function(t,e,n){},"404e":function(t,e,n){"use strict";n("3c23")},4360:function(t,e,n){"use strict";n("c4ed")},"56d7":function(t,e,n){"use strict";n.r(e);n("e792"),n("0cdd");var o=n("2b0e"),r=n("8c4f");o["default"].use(r["a"]);var i=new r["a"]({mode:"history",routes:[]}),s=n("5f5b");n("ab8b"),n("2dd8");o["default"].use(s["a"]);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.connected,expression:"connected"}]},[n("Greet",{directives:[{name:"show",rawName:"v-show",value:t.doing_greet,expression:"doing_greet"}],attrs:{jointype:t.jointype},on:{greet:t.greetFunc,join:t.joinFunc}}),n("Poker",{directives:[{name:"show",rawName:"v-show",value:!t.doing_greet,expression:"!doing_greet"}],ref:"poker",attrs:{room:t.room,room_url:t.room_url,opened:t.opened},on:{open:t.openFunc,restart:t.restartFunc,card:t.cardFunc,icon:t.iconFunc}},[n("props",{attrs:{member:t.member}})],1)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.connected,expression:"!connected"}]},[n("h1",[t._v("connecting...")])])])},c=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"greet"},[n("h1",[t._v("poker")]),n("div",{staticClass:"myname"},[n("b-form-input",{attrs:{placeholder:"Enter your name"},model:{value:t.yname,callback:function(e){t.yname=e},expression:"yname"}})],1),n("b-button",{directives:[{name:"show",rawName:"v-show",value:!t.jointype,expression:"!jointype"}],attrs:{variant:"outline-primary"},on:{click:t.greet}},[t._v("create-room")]),n("b-button",{directives:[{name:"show",rawName:"v-show",value:t.jointype,expression:"jointype"}],attrs:{variant:"outline-primary"},on:{click:t.join}},[t._v("join-room")])],1)},d=[],l={props:["jointype"],data(){return{inyname:"",inroom:""}},computed:{yname:{get(){return this.inyname},set(t){this.inyname=t}},room:{get(){return this.inroom},set(t){this.inroom=t}}},methods:{greet:function(){this.$emit("greet",this.inyname)},join:function(){this.$emit("join",this.inyname)}}},m=l,p=(n("61c3"),n("2877")),v=Object(p["a"])(m,u,d,!1,null,"f805a054",null),A=v.exports,f=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"greet"},[o("h1",[t._v("poker")]),o("p",[t._v("invite to > "),o("a",{attrs:{href:t.room_url,target:"_blank"}},[t._v(t._s(t.room_url))])]),o("p",[o("b-button",{staticClass:"point",attrs:{variant:"outline-primary"},on:{click:t.openFunc}},[t._v("open")]),o("b-button",{staticClass:"point",attrs:{variant:"outline-primary"},on:{click:t.restartFunc}},[t._v("restart")])],1),o("p",[o("b-button",{staticClass:"point",attrs:{variant:"outline-primary"},on:{click:function(e){return t.cardFunc(1)}}},[t._v("1")]),o("b-button",{staticClass:"point",attrs:{variant:"outline-primary"},on:{click:function(e){return t.cardFunc(3)}}},[t._v("3")]),o("b-button",{staticClass:"point",attrs:{variant:"outline-primary"},on:{click:function(e){return t.cardFunc(5)}}},[t._v("5")]),o("b-button",{staticClass:"point",attrs:{variant:"outline-primary"},on:{click:function(e){return t.cardFunc(8)}}},[t._v("8")]),o("b-button",{staticClass:"point",attrs:{variant:"outline-primary"},on:{click:function(e){return t.cardFunc(13)}}},[t._v("13")]),o("b-button",{staticClass:"point",attrs:{variant:"outline-primary"},on:{click:function(e){return t.cardFunc(21)}}},[t._v("21")]),o("b-button",{staticClass:"point",attrs:{variant:"outline-primary"},on:{click:function(e){return t.cardFunc(34)}}},[t._v("34")])],1),o("p",[o("b-button",{staticClass:"point",attrs:{variant:"outline-primary"},on:{click:function(e){return t.iconFunc(0)}}},[o("img",{attrs:{src:n("9ad8"),width:"24",height:"24"}})]),o("b-button",{staticClass:"point",attrs:{variant:"outline-primary"},on:{click:function(e){return t.iconFunc(1)}}},[o("img",{attrs:{src:n("34a6"),width:"24",height:"24"}})]),o("b-button",{staticClass:"point",attrs:{variant:"outline-primary"},on:{click:function(e){return t.iconFunc(2)}}},[o("img",{attrs:{src:n("75e6"),width:"24",height:"24"}})]),o("b-button",{staticClass:"point",attrs:{variant:"outline-primary"},on:{click:function(e){return t.iconFunc(3)}}},[o("img",{attrs:{src:n("d9d3"),width:"24",height:"24"}})]),o("b-button",{staticClass:"point",attrs:{variant:"outline-primary"},on:{click:function(e){return t.iconFunc(4)}}},[o("img",{attrs:{src:n("61e2"),width:"24",height:"24"}})]),o("b-button",{staticClass:"point",attrs:{variant:"outline-primary"},on:{click:function(e){return t.iconFunc(5)}}},[o("img",{attrs:{src:n("e68f"),width:"24",height:"24"}})])],1),o("div",{staticClass:"users"},t._l(t.member,(function(e,n){return o("div",{key:e.name,staticClass:"user"},[o("UserValue",{attrs:{you:e.name,card:e.card,icon:e.icon,opened:t.opened,id:n}})],1)})),0),1==t.opened?o("div",[t._v("average="+t._s(t.average))]):t._e()])},h=[],b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"user-value rounded border text-white",class:t.get_color()},[n("div",{staticClass:"panel-row"},[n("div",{staticStyle:{"background-color":"#FFFFFF"}},[n("img",{attrs:{src:t.get_icon(),width:"24",height:"24"}})]),0==t.card?n("div",{staticClass:"panel-row"},[n("div",{staticClass:"name-panel"},[t._v(t._s(t.you))]),n("div",{staticClass:"check-box"})]):n("div",{staticClass:"panel-row"},[n("div",{staticClass:"name-panel"},[t._v(t._s(t.you))]),1==t.opened?n("div",{staticClass:"check-box"},[t._v(" "+t._s(t.card)+" ")]):n("div",{staticClass:"check-box"},[n("div",{staticClass:"check"})])])])])},g=[],w={props:["you","card","opened","id","icon"],data(){return{inyou:""}},methods:{get_color:function(){let t=["bg-success","bg-primary","bg-danger","bg-info","bg-secondary","bg-dark"],e=t[this.id%t.length];return e},get_icon:function(){let t=[n("9ad8"),n("34a6"),n("75e6"),n("d9d3"),n("61e2"),n("e68f")],e=t[this.icon%t.length];return e}}},y=w,k=(n("404e"),Object(p["a"])(y,b,g,!1,null,"b6132ae4",null)),Q=k.exports,j={name:"Poker",components:{UserValue:Q},props:["room","room_url","opened"],data(){return{inyname:"",inmember:[]}},computed:{average:{get(){let t=0,e=0;return this.member.length>0?(this.member.forEach(n=>{n.card>0&&(t+=n.card,e++)}),e>0&&(t/=e)):t=0,Math.round(10*t)/10}},yname:{get(){return this.inyname},set(t){this.inyname=t}},member:{get(){return this.inmember},set(t){this.inmember=t}}},methods:{openFunc(){this.$emit("open")},restartFunc(){this.$emit("restart")},cardFunc(t){this.$emit("card",t)},iconFunc(t){this.$emit("icon",t)},set(t){this.member=t}}},z=j,P=(n("4360"),Object(p["a"])(z,f,h,!1,null,"cb46eaf6",null)),x=P.exports,C=new WebSocket("wss://s93yvc3ce3.execute-api.ap-northeast-1.amazonaws.com/product"),E={name:"App",components:{Greet:A,Poker:x},data(){return{connected:!1,doing_greet:!0,jointype:!1,room_url:"",room:"",id:"",opened:!1,member:[]}},methods:{greetFunc(t){this.room=this.$uuid.v4().substring(0,8),this.id=this.$uuid.v4().substring(0,8),this.room_url=location.href.split("/").reverse().slice(1).reverse().join("/")+"/?room="+this.room;let e={com:"room",room:this.room,name:t,id:this.id};this.ws_send(e)},joinFunc(t){console.log("join func="+t),this.id=this.$uuid.v4().substring(0,8);let e={com:"join",room:this.room,name:t,id:this.id};this.ws_send(e)},openFunc(){let t={com:"open",room:this.room};this.ws_send(t)},restartFunc(){let t={com:"restart",room:this.room};this.ws_send(t)},cardFunc(t){let e={com:"card",id:this.id,room:this.room,card:t};this.ws_send(e)},iconFunc(t){let e={com:"icon",id:this.id,room:this.room,icon:t};this.ws_send(e)},ws_send(t){let e={action:"sendmessage",data:t};C.send(JSON.stringify(e))}},mounted:function(){var t=this;this.$route.query.room&&(this.room=this.$route.query.room,this.jointype=!0),C.onopen=function(){if(console.log("### websocket.onopen()"),t.connected=!0,t.$route.query.room){let e={action:"sendmessage",data:{com:"room-check",room:t.room}};C.send(JSON.stringify(e))}this.timeobj=setInterval((function(){console.log("ping!!!!");let t={com:"ping"};C.send(JSON.stringify(t))}),3e5)},C.onmessage=function(e){if(console.log("### websocket.onmessage()"),console.log(e.data),e&&e.data&&""!==e.data){let n=JSON.parse(e.data),o=!0;switch(n.com){case"open":t.opened=!0;break;case"restart":t.opened=!1;break;case"room-error":t.jointype=!1,o=!1,t.$router.push("/");break;case"room-success":t.doing_greet=!1,o=!1,t.room_url=location.href.split("/").reverse().slice(1).reverse().join("/")+"/?room="+n.room;break}o&&(console.log(n.member),t.$refs.poker.set(n.member))}},C.onclose=function(){console.log("### websocket.onclose()"),t.doing_greet=!0,t.connected=!1,clearInterval(this.timeobj)}}},S=E,_=(n("034f"),Object(p["a"])(S,a,c,!1,null,null,null)),O=_.exports,F=n("9612");o["default"].use(F["a"]),o["default"].config.productionTip=!1,new o["default"]({router:i,render:t=>t(O)}).$mount("#app")},"61c3":function(t,e,n){"use strict";n("dd80")},"61e2":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAAA0lBMVEVHcEydJyfGISHfRETNPz/rSUnJODjXOzvXLy/ELCzDPDzYOjr9Q0PcQkLMNDS6ICDJOTm/IiLEGRm2CAi7DQ3iRUXnR0fiRkbXNTXfPz/PODjiQkLWLy+qJCT5Pj7VMjLSLi7mRkbbLCzYRETXQ0O2AgKxBAS+Dw/BCwvFBQXhDAzGFBSzCAi8CwvSPz//UVHSQkKsMjLgRkbWRET/T0//U1P/S0vpDw/xMTHxTEz1QkL4ODjtPDz4LS3xSEjbJyf/Q0P9Pj7fNDTjBQXaEhLTBQVf4fwYAAAAOXRSTlMAClmvK/k1AQIFHaT5ml4lQj5zRVnC8NDKz3PF2BP7zLTk6Hl9fjFxsvzstDGBTfZOFrpq//////7HyLfhAAAA1ElEQVQY042O127CQBREB9e1KUYUk0qvCSSQXDec0Pn/X2JthGyveeBI+7BHozsDROj8mYpiAgwJ3P621CCwm0tkkJ0rNEjyDEPnm2z5RyUn0BJf6BG1VkBVJSrftA7T3my+YDDIRM24/4qiKTxjoOy6r8jz7LrF1EbG4vDLurSuZqZHeyp/pV3xjm3vn4xUY2y1Qxh2CrlwN/TfRKvjve/7Eq8Vwtb2f2tlD0cYUk1ieBAdjc9azjLUT543EYbwBQvvw5uKmmE+O54boua3x6N68r0A2F4Sk6me64IAAAAASUVORK5CYII="},"75e6":function(t,e,n){t.exports=n.p+"img/nandato.325bd3a8.png"},"85ec":function(t,e,n){},"9ad8":function(t,e,n){t.exports=n.p+"img/none.ba5f5669.png"},c4ed:function(t,e,n){},d9d3:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAsVBMVEVHcEz6rwH3rQD7twvxqwPUkgj+wxz0thP/ySf+vRL+xiHmmADqngD3uRXvqAHtowD4sAPYeAXxrAb5vhv3txDikQD5vRn+wRn4uhXyrAXwqwXkkQDtpgD/zCv5vhrwqQLzsQz1qwDvqQTkkQDspADxrAf1thH2qgD1sQr3uRX5vBfupQD/zSr/yiP/tAD/yyj/uwf9sgH/1iT/wQryqwP/wxf/2yf/0Sf/yBP/wgP/yxkoSRIsAAAALHRSTlMA/v78cAT+Af7+/hQh5Gg88wd5/v0N8v7udYIWY/v2W5y8SRc0tbPQ5sr5SXJ9/0cAAADDSURBVBjTVY/nFoIwDEZTRqkICIiKe+DE0paNvv+D2aocj9+/3CTNLcA7h9ABC34J3Mb9I4G7Lgww+9KC4ZRmWzC/I1YAXkZTp29LPIp5ezMny8kHJYuUEn69+NN0rtZ3cUsJHeeipM1ZAqOga0K4XWkoqk8BQPi0CZdAY6xWt8HosJ0RHlUIRTgdSVAOZngWVVqe4yxeAswf+kBFQznmbiIdfFYKIXT55qZeKH1ntfcRY0x0RaP+o/yHx/t25XmhJ1VfQsASoJE860EAAAAASUVORK5CYII="},dd80:function(t,e,n){},e68f:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAAAulBMVEVHcExQxPdPw/dLwvdOw/dJwfZOw/dPw/dRxPdPw/dMwvZNw/dPw/dLwvdIwPdJwfdPw/dNw/eU2vpPw/cwt/VOwvdPw/dPw/dOw/dPxPdPw/dOw/dSxPdPw/diyfhOw/dPw/dDv/ZKwvdOwvZ30flPw/eF1flWxffH7P1FwPZkyvg5u/a05fxoy/hPw/dU0f9Tzv9Ryv9RyP5X1/+57P9Pxfl73v9az/+p6v+w5v9g1f+K5P9my/iE1vtcQyvWAAAALnRSTlMA2PYm/v6z+wMB/HREhQkVSsj94A/Pm1OLO3sdvML47mIYqTT+ovzs+VnlIfv9pXSmMwAAAThJREFUGNNFkOd2gzAMRoUxNitAIHsnzWrS4hEyut7/tSrbGf6Bju8Rn3UFYE9kPtnYP3YeF0ezYjCtSDw7TN6fPIKUaKH0uf5rmgsL7zyCfCIJjykNPj/2l9UDhwADyWmN/LecqeEj3HHEdRDEomUTfLY0nDlOuezZxvTkdbDkc205t90h9LVsmzqsFcdD1ZvFI0FED0LklZBKYnNo3msrHsvC8M6ITTeFm6GvOOXKi57SbhOViuuaX1G6z5JhCC4iEfh+sL0xgFRI7SWZ5V3MoEHZHHB5bc31t+cjH5OzcSub2RFwJh6Xt10O4NdWef21W2KK4sF6/4M6+Ry7Ue3axV99o7m9oBwwQWjMiVggjjzNaaAM9udCayXcepIT2p9aZvbjxqumi7vKSko5yZxTmL38iiTF+g9Sgx6TGEffgQAAAABJRU5ErkJggg=="}});
//# sourceMappingURL=app.a177ef43.js.map